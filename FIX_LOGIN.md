# Исправление проблемы с входом

## Проблема
Не получается войти в систему.

## Решение

### Шаг 1: Остановите бэкенд
Если бэкенд запущен, нажмите `Ctrl+C` в терминале, где он работает.

### Шаг 2: Удалите старую базу данных

В папке `backend` выполните:
```powershell
Remove-Item app.db -Force
```

Или запустите скрипт:
```powershell
.\fix_login.ps1
```

### Шаг 3: Перезапустите бэкенд

```powershell
cd backend
.venv\Scripts\Activate.ps1
python -m uvicorn main:app --reload
```

### Шаг 4: Проверьте, что бэкенд запустился

Откройте в браузере: http://localhost:8000/docs

Должна открыться Swagger UI.

### Шаг 5: Проверьте вход через Swagger

1. В Swagger UI найдите эндпоинт `POST /login`
2. Нажмите "Try it out"
3. Введите:
   - `username`: `alice@example.com`
   - `password`: `password123`
4. Нажмите "Execute"
5. Должен вернуться токен

### Шаг 6: Проверьте вход через фронтенд

1. Откройте http://localhost:8080/login
2. Введите:
   - Email: `alice@example.com`
   - Пароль: `password123`
3. Нажмите "Войти"

## Если все еще не работает

### Проверьте консоль браузера (F12)
- Откройте вкладку "Console"
- Посмотрите на ошибки
- Скопируйте их

### Проверьте логи бэкенда
- В терминале, где запущен бэкенд, должны быть видны ошибки
- Если есть ошибки - скопируйте их

### Возможные проблемы:

1. **Ошибка "Module not found"**
   - Установите зависимости: `pip install -r requirements.txt`

2. **Ошибка "Database is locked"**
   - Закройте все программы, которые могут использовать БД
   - Удалите `app.db` вручную
   - Перезапустите бэкенд

3. **Ошибка CORS**
   - Убедитесь, что в `main.py` указан правильный порт фронтенда (8080)

4. **Ошибка "Incorrect email or password"**
   - Убедитесь, что БД пересоздана
   - Проверьте, что используете правильные данные:
     - Email: `alice@example.com`
     - Пароль: `password123`

## Тестовые аккаунты

Все с паролем `password123`:
- `alice@example.com` - студент
- `bob@example.com` - студент
- `sarah@example.com` - преподаватель
- `admin@example.com` - админ


