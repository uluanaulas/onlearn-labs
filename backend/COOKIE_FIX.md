# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å cookies –≤ production

## –ü—Ä–æ–±–ª–µ–º–∞

–í production —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ –±—ç–∫–µ–Ω–¥ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –¥–æ–º–µ–Ω–∞—Ö:
- Frontend: `https://onlearn-labs-11.onrender.com`
- Backend: `https://onlearn-labs.onrender.com`

Cookies —Å `SameSite=Lax` **–ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è** –≤ –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã—Ö API –∑–∞–ø—Ä–æ—Å–∞—Ö (fetch).

## –†–µ—à–µ–Ω–∏–µ

–î–ª—è –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- `SameSite=None` (—Ä–∞–∑—Ä–µ—à–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É –≤ –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö)
- `Secure=True` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è SameSite=None –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö)

## –ò–∑–º–µ–Ω–µ–Ω–∏—è

### Backend (`main.py`)

1. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```python
   is_production = os.getenv("RENDER") is not None
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ cookies:**
   - **Production (–∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω):** `SameSite=None`, `Secure=True`
   - **Localhost:** `SameSite=Lax`, `Secure=False`

3. **–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

## –í–∞–∂–Ω–æ

### –î–ª—è –±—Ä–∞—É–∑–µ—Ä–∞

`SameSite=None` —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å `Secure=True`:
- ‚úÖ HTTPS ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå HTTP ‚Üí –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–±—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ DevTools

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ cookies –≤ DevTools:
- Application ‚Üí Cookies ‚Üí `https://onlearn-labs.onrender.com`
- Cookie `session_user_id` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å:
  - ‚úÖ `Secure`
  - ‚úÖ `SameSite=None`
  - ‚úÖ `HttpOnly`

## –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

1. –û—á–∏—Å—Ç–∏—Ç–µ cookies –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ)
2. –í–æ–π–¥–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ cookie —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `/my-courses` —Ä–∞–±–æ—Ç–∞–µ—Ç

## –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–õ–æ–∫–∞–ª—å–Ω–æ –≤—Å–µ –æ—Å—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –±—ã–ª–æ:
- `SameSite=Lax`
- `Secure=False`
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ localhost

